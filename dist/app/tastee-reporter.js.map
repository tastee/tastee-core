{"version":3,"sources":["app/tastee-reporter.ts"],"names":[],"mappings":";;AACA,yBAAyB;AACzB,6BAA6B;AAG7B;IAEI,gBAAgB,CAAC;IAEjB,kBAAkB,CAAC,YAA2B;QAC1C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAC3C,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAA;QAC3C,CAAC;IACL,CAAC;IAED,cAAc,CAAC,MAAW,EAAE,WAAmB,EAAE,cAAsB,EAAE,WAAwB;QAC7F,EAAE,CAAC,CAAC,WAAW,KAAK,SAAS,CAAC,CAAC,CAAC;YAC5B,MAAM,CAAC,cAAc,EAAE,CAAC,IAAI,CACxB,UAAU,KAAK,EAAE,GAAG;gBAChB,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;oBAC9B,EAAE,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;gBAC9B,CAAC;gBACD,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;oBACnD,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC,CAAC;gBACnD,CAAC;gBAED,EAAE,CAAC,CAAC,cAAc,KAAK,SAAS,CAAC,CAAC,CAAC;oBAC/B,cAAc,GAAG,OAAO,CAAC;gBAC7B,CAAC;gBAED,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,QAAQ,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;oBACnE,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,QAAQ,EAAE,cAAc,CAAC,CAAC,CAAC;gBACnE,CAAC;gBACD,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,QAAQ,EAAE,cAAc,EAAE,WAAW,CAAC,UAAU,GAAG,MAAM,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,UAAU,GAAG;gBAC9H,CAAC,CAAC,CAAC;YACP,CAAC,CACJ,CAAC;QACN,CAAC;IACL,CAAC;CACJ;AAlCD,wCAkCC","file":"tastee-reporter.js","sourcesContent":["import { Instruction } from './instruction';\nimport * as fs from 'fs';\nimport * as path from 'path';\nimport * as mustache from 'mustache';\n\nexport class TasteeReporter {\n\n    constructor() { }\n\n    generateConsoleLog(instructions: Instruction[]): void {\n        for (var i = 0; i < instructions.length; i++) {\n            console.log(instructions[i].toString())\n        }\n    }\n\n    takeScreenShot(driver: any, rapportPath: string, tasteeFileName: string, instruction: Instruction): void {\n        if (rapportPath !== undefined) {\n            driver.takeScreenshot().then(\n                function (image, err) {\n                    if (!fs.existsSync(rapportPath)) {\n                        fs.mkdirSync(rapportPath);\n                    }\n                    if (!fs.existsSync(path.join(rapportPath, 'screen'))) {\n                        fs.mkdirSync(path.join(rapportPath, 'screen'));\n                    }\n                    \n                    if (tasteeFileName === undefined) {\n                        tasteeFileName = 'debug';\n                    }\n\n                    if (!fs.existsSync(path.join(rapportPath, 'screen', tasteeFileName))) {\n                        fs.mkdirSync(path.join(rapportPath, 'screen', tasteeFileName));\n                    }\n                    fs.writeFile(path.join(rapportPath, 'screen', tasteeFileName, instruction.lineNumber + '.png'), image, 'base64', function (err) {\n                    });\n                }\n            );\n        }\n    }\n}\n\n"]}